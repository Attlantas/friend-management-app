{"ast":null,"code":"import { takeLatest, put, call } from \"redux-saga/effects\";\nimport axios from \"../api/axios\";\nimport { fetchFriendsRequest, fetchFriendsSuccess, fetchFriendsFailure, fetchFriendRequestsRequest, fetchFriendRequestsSuccess, fetchFriendRequestsFailure, sendFriendRequestRequest, sendFriendRequestSuccess, sendFriendRequestFailure, removeFriendRequest, removeFriendSuccess, removeFriendFailure, acceptFriendRequestRequest, acceptFriendRequestSuccess, acceptFriendRequestFailure } from \"../store/friendSlice\";\n\n// Fetch Friends Saga\nfunction* fetchFriendsSaga(action) {\n  try {\n    const {\n      userId,\n      page\n    } = action.payload;\n    const response = yield call(axios.get, `friends/${userId}?page=${page}`);\n    yield put(fetchFriendsSuccess(response.data)); // ✅ Correctly dispatch success\n  } catch (error) {\n    var _error$response;\n    yield put(fetchFriendsFailure(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || \"Failed to fetch friends\"));\n  }\n}\n\n// Fetch Friend Requests Saga\nfunction* fetchFriendRequestsSaga(action) {\n  try {\n    const {\n      userId,\n      page\n    } = action.payload;\n    const response = yield call(axios.get, `/friends/${userId}/requests?page=${page}`);\n    yield put(fetchFriendRequestsSuccess(response.data));\n  } catch (error) {\n    var _error$response2;\n    yield put(fetchFriendRequestsFailure(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || \"Failed to fetch friend requests\"));\n  }\n}\n\n// Send Friend Requests Saga\nfunction* sendFriendRequestSaga(action) {\n  try {\n    const {\n      userId,\n      username\n    } = action.payload;\n    const response = yield call(axios.post, \"/friends/request/send\", {\n      userId,\n      username\n    });\n    yield put(sendFriendRequestSuccess(response.data));\n  } catch (error) {\n    var _error$response3;\n    yield put(sendFriendRequestFailure(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || \"Failed to fetch friend requests\"));\n  }\n}\n\n// Remove Friend Saga\nfunction* removeFriendSaga(action) {\n  try {\n    const {\n      userId,\n      friendId\n    } = action.payload;\n    const response = yield call(axios.delete, `/friends/${userId}/remove/${friendId}`);\n    yield put(removeFriendSuccess(response.data));\n  } catch (error) {\n    var _error$response4;\n    yield put(removeFriendFailure(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || \"Failed to remove friend\"));\n  }\n}\n\n// Accept Friend Request Saga\nfunction* acceptFriendRequestSaga(action) {\n  try {\n    const {\n      userId,\n      friendId\n    } = action.payload;\n    const response = yield call(axios.post, \"/friends/request/accept\", {\n      userId,\n      friendId\n    });\n    yield put(acceptFriendRequestSuccess(response.data));\n  } catch (error) {\n    var _error$response5;\n    yield put(acceptFriendRequestFailure(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || \"Failed to accept request\"));\n  }\n}\n\n// Watcher Saga\nexport default function* watchFriendSaga() {\n  yield takeLatest(fetchFriendsRequest.type, fetchFriendsSaga);\n  yield takeLatest(fetchFriendRequestsRequest.type, fetchFriendRequestsSaga);\n  yield takeLatest(sendFriendRequestRequest.type, sendFriendRequestSaga);\n  yield takeLatest(removeFriendRequest.type, removeFriendSaga);\n  yield takeLatest(acceptFriendRequestRequest.type, acceptFriendRequestSaga);\n}","map":{"version":3,"names":["takeLatest","put","call","axios","fetchFriendsRequest","fetchFriendsSuccess","fetchFriendsFailure","fetchFriendRequestsRequest","fetchFriendRequestsSuccess","fetchFriendRequestsFailure","sendFriendRequestRequest","sendFriendRequestSuccess","sendFriendRequestFailure","removeFriendRequest","removeFriendSuccess","removeFriendFailure","acceptFriendRequestRequest","acceptFriendRequestSuccess","acceptFriendRequestFailure","fetchFriendsSaga","action","userId","page","payload","response","get","data","error","_error$response","fetchFriendRequestsSaga","_error$response2","sendFriendRequestSaga","username","post","_error$response3","removeFriendSaga","friendId","delete","_error$response4","acceptFriendRequestSaga","_error$response5","watchFriendSaga","type"],"sources":["/Users/kthulu/PersonalDevelopment/friend-management-system/frontend/src/sagas/friendSaga.js"],"sourcesContent":["import {takeLatest, put, call} from \"redux-saga/effects\";\nimport axios from \"../api/axios\";\nimport {\n  fetchFriendsRequest,\n  fetchFriendsSuccess,\n  fetchFriendsFailure,\n  fetchFriendRequestsRequest,\n  fetchFriendRequestsSuccess,\n  fetchFriendRequestsFailure,\n  sendFriendRequestRequest,\n  sendFriendRequestSuccess,\n  sendFriendRequestFailure,\n  removeFriendRequest,\n  removeFriendSuccess,\n  removeFriendFailure,\n  acceptFriendRequestRequest,\n  acceptFriendRequestSuccess,\n  acceptFriendRequestFailure,\n} from \"../store/friendSlice\";\n\n// Fetch Friends Saga\nfunction* fetchFriendsSaga(action) {\n  try {\n    const {userId, page} = action.payload;\n\n    const response = yield call(axios.get, `friends/${userId}?page=${page}`);\n    yield put(fetchFriendsSuccess(response.data)); // ✅ Correctly dispatch success\n  } catch (error) {\n    yield put(fetchFriendsFailure(error.response?.data || \"Failed to fetch friends\"));\n  }\n}\n\n// Fetch Friend Requests Saga\nfunction* fetchFriendRequestsSaga(action) {\n  try {\n    const {userId, page} = action.payload;\n\n    const response = yield call(axios.get, `/friends/${userId}/requests?page=${page}`);\n    yield put(fetchFriendRequestsSuccess(response.data));\n  } catch (error) {\n    yield put(fetchFriendRequestsFailure(error.response?.data || \"Failed to fetch friend requests\"));\n  }\n}\n\n// Send Friend Requests Saga\nfunction* sendFriendRequestSaga(action) {\n  try {\n    const {userId, username} = action.payload;\n    \n    const response = yield call(axios.post, \"/friends/request/send\", {userId, username});\n    yield put(sendFriendRequestSuccess(response.data));\n  } catch (error) {\n    yield put(sendFriendRequestFailure(error.response?.data || \"Failed to fetch friend requests\"));\n  }\n}\n\n// Remove Friend Saga\nfunction* removeFriendSaga(action) {\n  try {\n    const {userId, friendId} = action.payload;\n\n    const response = yield call(axios.delete, `/friends/${userId}/remove/${friendId}`);\n    yield put(removeFriendSuccess(response.data));\n  } catch (error) {\n    yield put(removeFriendFailure(error.response?.data || \"Failed to remove friend\"));\n  }\n}\n\n// Accept Friend Request Saga\nfunction* acceptFriendRequestSaga(action) {\n  try {\n    const {userId, friendId} = action.payload;\n\n    const response = yield call(axios.post, \"/friends/request/accept\", {userId, friendId});\n    yield put(acceptFriendRequestSuccess(response.data));\n  } catch (error) {\n    yield put(acceptFriendRequestFailure(error.response?.data || \"Failed to accept request\"));\n  }\n}\n\n// Watcher Saga\nexport default function* watchFriendSaga() {\n  yield takeLatest(fetchFriendsRequest.type, fetchFriendsSaga);\n  yield takeLatest(fetchFriendRequestsRequest.type, fetchFriendRequestsSaga);\n  yield takeLatest(sendFriendRequestRequest.type, sendFriendRequestSaga);\n  yield takeLatest(removeFriendRequest.type, removeFriendSaga);\n  yield takeLatest(acceptFriendRequestRequest.type, acceptFriendRequestSaga);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}