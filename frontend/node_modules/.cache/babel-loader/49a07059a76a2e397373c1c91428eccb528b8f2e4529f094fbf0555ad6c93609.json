{"ast":null,"code":"// import { io } from \"socket.io-client\";\n\n// const socket = io(\"http://localhost:5001\", {\n// \ttransports: [\"websocket\"], // Use WebSockets only\n// \twithCredentials: true, // Allow CORS credentials\n// });\n\n// socket.on(\"connect\", () => {\n// \tconsole.log(\"‚úÖ WebSocket connected:\", socket.id);\n// });\n\n// socket.on(\"disconnect\", () => {\n// \tconsole.log(\"‚ùå WebSocket disconnected\");\n// });\n\n// socket.on(\"connect_error\", (error) => {\n// \tconsole.error(\"üö® WebSocket connection error:\", error);\n// });\n\n// export default socket;\n\nimport { io } from \"socket.io-client\";\nconst SOCKET_URL = \"http://localhost:5001\"; // Backend WebSocket Server\n\nexport const socket = io(SOCKET_URL, {\n  transports: [\"websocket\"],\n  reconnectionAttempts: 5,\n  reconnectionDelay: 3000\n  //withCredentials: true\n});\nexport const setupSocketListeners = (dispatch, userId) => {\n  if (!socket) return;\n  socket.on(\"connect\", () => {\n    console.log(\"Connected to WebSocket ‚úÖ\");\n    socket.emit(\"user_online\", userId); // Inform server that user is online\n  });\n  socket.on(\"friend_request\", request => {\n    console.log(\"New Friend Request üì©\", request);\n    dispatch({\n      type: \"friends/addFriendRequest\",\n      payload: request\n    });\n  });\n  socket.on(\"friend_added\", friend => {\n    console.log(\"Friend Added üéâ\", friend);\n    dispatch({\n      type: \"friends/fetchFriendsSuccess\",\n      payload: friend\n    });\n  });\n  socket.on(\"friend_removed\", removedFriendId => {\n    console.log(\"Friend Removed ‚ùå\", removedFriendId);\n    dispatch({\n      type: \"friends/removeFriendSuccess\",\n      payload: removedFriendId\n    });\n  });\n  socket.on(\"disconnect\", () => {\n    console.log(\"Disconnected from WebSocket ‚ùå\");\n  });\n};","map":{"version":3,"names":["io","SOCKET_URL","socket","transports","reconnectionAttempts","reconnectionDelay","setupSocketListeners","dispatch","userId","on","console","log","emit","request","type","payload","friend","removedFriendId"],"sources":["/Users/kthulu/PersonalDevelopment/friend-management-system/frontend/src/utils/socket.js"],"sourcesContent":["// import { io } from \"socket.io-client\";\n\n// const socket = io(\"http://localhost:5001\", {\n// \ttransports: [\"websocket\"], // Use WebSockets only\n// \twithCredentials: true, // Allow CORS credentials\n// });\n\n// socket.on(\"connect\", () => {\n// \tconsole.log(\"‚úÖ WebSocket connected:\", socket.id);\n// });\n\n// socket.on(\"disconnect\", () => {\n// \tconsole.log(\"‚ùå WebSocket disconnected\");\n// });\n\n// socket.on(\"connect_error\", (error) => {\n// \tconsole.error(\"üö® WebSocket connection error:\", error);\n// });\n\n// export default socket;\n\n\nimport { io } from \"socket.io-client\";\n\nconst SOCKET_URL = \"http://localhost:5001\"; // Backend WebSocket Server\n\nexport const socket = io(SOCKET_URL, {\n  transports: [\"websocket\"],\n  reconnectionAttempts: 5,\n  reconnectionDelay: 3000,\n  //withCredentials: true\n});\n\nexport const setupSocketListeners = (dispatch, userId) => {\n  if (!socket) return;\n\n  socket.on(\"connect\", () => {\n    console.log(\"Connected to WebSocket ‚úÖ\");\n    socket.emit(\"user_online\", userId); // Inform server that user is online\n  });\n\n  socket.on(\"friend_request\", (request) => {\n    console.log(\"New Friend Request üì©\", request);\n    dispatch({ type: \"friends/addFriendRequest\", payload: request });\n  });\n\n  socket.on(\"friend_added\", (friend) => {\n    console.log(\"Friend Added üéâ\", friend);\n    dispatch({ type: \"friends/fetchFriendsSuccess\", payload: friend });\n  });\n\n  socket.on(\"friend_removed\", (removedFriendId) => {\n    console.log(\"Friend Removed ‚ùå\", removedFriendId);\n    dispatch({ type: \"friends/removeFriendSuccess\", payload: removedFriendId });\n  });\n\n  socket.on(\"disconnect\", () => {\n    console.log(\"Disconnected from WebSocket ‚ùå\");\n  });\n};\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAGA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAG,uBAAuB,CAAC,CAAC;;AAE5C,OAAO,MAAMC,MAAM,GAAGF,EAAE,CAACC,UAAU,EAAE;EACnCE,UAAU,EAAE,CAAC,WAAW,CAAC;EACzBC,oBAAoB,EAAE,CAAC;EACvBC,iBAAiB,EAAE;EACnB;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,oBAAoB,GAAGA,CAACC,QAAQ,EAAEC,MAAM,KAAK;EACxD,IAAI,CAACN,MAAM,EAAE;EAEbA,MAAM,CAACO,EAAE,CAAC,SAAS,EAAE,MAAM;IACzBC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvCT,MAAM,CAACU,IAAI,CAAC,aAAa,EAAEJ,MAAM,CAAC,CAAC,CAAC;EACtC,CAAC,CAAC;EAEFN,MAAM,CAACO,EAAE,CAAC,gBAAgB,EAAGI,OAAO,IAAK;IACvCH,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEE,OAAO,CAAC;IAC7CN,QAAQ,CAAC;MAAEO,IAAI,EAAE,0BAA0B;MAAEC,OAAO,EAAEF;IAAQ,CAAC,CAAC;EAClE,CAAC,CAAC;EAEFX,MAAM,CAACO,EAAE,CAAC,cAAc,EAAGO,MAAM,IAAK;IACpCN,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEK,MAAM,CAAC;IACtCT,QAAQ,CAAC;MAAEO,IAAI,EAAE,6BAA6B;MAAEC,OAAO,EAAEC;IAAO,CAAC,CAAC;EACpE,CAAC,CAAC;EAEFd,MAAM,CAACO,EAAE,CAAC,gBAAgB,EAAGQ,eAAe,IAAK;IAC/CP,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEM,eAAe,CAAC;IAChDV,QAAQ,CAAC;MAAEO,IAAI,EAAE,6BAA6B;MAAEC,OAAO,EAAEE;IAAgB,CAAC,CAAC;EAC7E,CAAC,CAAC;EAEFf,MAAM,CAACO,EAAE,CAAC,YAAY,EAAE,MAAM;IAC5BC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAC9C,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}